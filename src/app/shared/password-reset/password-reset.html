<section id="password-reset">
  <div class="password-reset-container">
    <aside class="info-panel">
      <div class="logo-wrapper">
        <img src="assets/fae3c052cb9ef742681bdee0fd53c88f855d60bf.png" alt="KafoFond logo graphic" class="logo-graphic">
        <p class="logo-text">
          <span class="logo-text-kafo">Kafo</span><span class="logo-text-fond">Fond</span>
        </p>
      </div>
    </aside>
    <main class="form-panel">
      <h1 class="form-title">Réinitialisation</h1>
      <p class="form-subtitle">Entrez le code reçu et votre nouveau mot de passe</p>
      
      <div *ngIf="email" class="email-info">
        Code envoyé à : <strong>{{ email }}</strong>
      </div>
      
      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>

      <div *ngIf="successMessage" class="success-message">
        {{ successMessage }}
      </div>

      <form (ngSubmit)="resetPassword(resetForm)" #resetForm="ngForm" class="reset-form">
        <div class="form-group">
          <input 
            type="text" 
            class="form-input" 
            placeholder="Code Reçu"
            [(ngModel)]="code"
            name="code"
            required
            [disabled]="isLoading">
          <img src="assets/398_112.svg" alt="Email icon" class="form-icon">
        </div>
        <div class="form-group">
          <input 
            type="password" 
            class="form-input" 
            placeholder="Nouveau mot de passe"
            [(ngModel)]="nouveauMotDePasse"
            name="nouveauMotDePasse"
            required
            [disabled]="isLoading">
          <img src="assets/398_117.svg" alt="Lock icon" class="form-icon">
        </div>
        <div class="form-group">
          <input 
            type="password" 
            class="form-input" 
            placeholder="Confirmer le mot de passe"
            [(ngModel)]="confirmationMotDePasse"
            name="confirmationMotDePasse"
            required
            [disabled]="isLoading">
          <img src="assets/398_118.svg" alt="Lock icon" class="form-icon">
        </div>
        
        <div *ngIf="passwordsMismatch() && confirmationMotDePasse" class="error-message">
          Les mots de passe ne correspondent pas
        </div>

        <button 
          type="submit" 
          class="submit-button" 
          [disabled]="isLoading || resetForm.invalid || passwordsMismatch()">
          <span *ngIf="!isLoading">Réinitialiser le mot de passe</span>
          <span *ngIf="isLoading">Traitement en cours...</span>
        </button>

        <div class="back-link">
          <button type="button" (click)="goToLogin()" class="back-button">← Retour à la connexion</button>
        </div>
      </form>
    </main>
  </div>
</section>